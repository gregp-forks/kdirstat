<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
	<title>Building KDirStat for KDE 2.x</title>
</head>

<body bgcolor=#F0F0F0>


<table width=100%>
    <tr>
        <td width=50% align=left>
	    Last modified: 02 Sep 2001
	</td>
	<td width=50% align=right>
	    Contact: <a href="mailto:sh@suse.de">Stefan Hundhammer</a>
        </td>
    </tr>
</table>


<h1 align=center>Building KDirStat for KDE 2.x</h1>

<ul>
<li>
Get the latest sources - either the 
<a href="../download/kdirstat-for-kde2">tarball from the download area</a>
or via 
<a href="http://kdirstat.sourceforge.net/kdirstat">anonymous CVS from SourceForge.</a>
<p><br></p>
</li>

<li>
Make sure you have a development system up and running. 

<p>
You'll need at least:

<ul>
<li>A C++ compiler
<li>Header files for the system libs
<li>X11 development environment (libs and header files)
<li>Qt 2.2 (or later) development environment
<li>KDE 2.x development environment
</ul>

<p>
- maybe more. If you are unsure and you are running SuSE Linux, it might be
a good idea to install the <em>development system</em> selection. You can also
install this additionally on top of your running system - use YaST (the older
text based version).
</p>

<p>
As of August 2001, <b>you also need the QTreeMap-Lib</b>.
<a href="mailto:alexannika@users.sourceforge.net">Alexander Rawass</a>,
the author of the treemap part of KDirStat, decided to move this part out to a
separate project. You can get it from SourceForge or simply disable treemaps at
configure time (<tt>configure --disable-treemaps</tt>).
</p>


<p>
Please understand that I cannot and will not fix everybody's broken development
systems any more - this had taken me quite some time with KDirStat 0.8x. Please
make sure you can compile simple KDE programs like <em>kless</em> or
<em>kexample</em> before contacting me about build problems.
</p>
</ul>
</li>

<li>Unpack the sources:
<pre>

    tar xzvf kdirstat-1.7.1-alpha.tgz

</pre>
<p>
(or whatever version you downloaded)
</p>
<p><br></p>
</li>

<li>
Go to this directory:
<pre>

    cd kdirstat-1.7.1-alpha

</pre>
</li>

<li>
Make sure I didn't accidentially include a <em>config.cache</em> file in the
tarball - remove it to make sure. This is a neverending cause of trouble.
<pre>

    rm -f config.cache

</pre>
</li>


<li>
Let the <em>configure</em> script figure out where everything required is on
your system. 
<p>
Watch out for error messages and <b>fix them</b> before reporting
errors!
</p>

<p>On SuSE Linux systems, KDE 2.x is installed to <em>/opt/kde2</em> which is a
good idea if you want to keep some KDE 1.x programs around. So use that
<em>/opt/kde2</em> prefix for KDirStat, too - otherwise it will be installed to
<em>/opt/kde</em> and clutter up a working KDE 1.x environment.
<pre>

    ./configure --prefix=/opt/kde2

</pre>
<p>
If you don't care about that or if you set up KDE 2.x in <em>/opt/kde</em>
anyway, simply type
</p>
<pre>

    ./configure

</pre>
</li>

<p>
If you don't have the QTreeMap lib and you don't want to go through all the
hassle of downloading, compiling and installing it separately, you can disable
treemap support from KDirStat alltogether (in this case, of course you will not
get a treemap window): 
</p>

<pre>
    ./configure --disable-treemaps
</pre>
<p>
or (for SuSE Linux systems):
</p>
<pre>
    ./configure --prefix=/opt/kde2 --disable-treemaps

</pre>

<li>
Compile everything:
<pre>

    make

</pre>
<p>
Again, watch out for error messages.
</p>
<p>
<br>
</p>
</li>

<li>
If everything worked out allright, become <em>root</em> and install the program
and everything it needs:
<pre>

    su
    make install

</pre>
<p>
<b>Don't do this if the previous step reported errors!</b>
</p>
</li>

</ul>


<h2>Troubleshooting</h2>

<p>
If you get weird linker errors (especially after configuring with
--disable-treemaps), try:

<pre>

	cd kdirstat
	./fix-linker-trouble
	cd ..
	make

</pre>

</p>

  </body>
</html>


<!--	 --- Emacs Customization ---			-->
<!--							-->
<!--	 Local Variables:				-->
<!--	 time-stamp-format:	"%02d %3b %04y"		-->
<!--	 time-stamp-start:	"Last modified:[ \t]+"	-->
<!--	 time-stamp-end:	"$"			-->
<!--	 End:						-->

