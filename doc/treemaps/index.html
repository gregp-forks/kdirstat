<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.76 [en] (X11; U; Linux 2.4.2 i686) [Netscape]">
   <meta name="Author" content="Alexander Rawass">
   <title>Documentation for QTreeMap</title>
</head>
<body>

<h1>
Documentation for QTreeMap</h1>

<p><br>QTreeMap is a Qt/KDE widget written for KDirStat that displays information
about disk/directory usage as a Treemap graphics.
<p>QTreeMap is a library containing a set of C++/Qt classes that provide
an easy-to-use Treemap Widget for the Qt Environment.
<br>Treemaps are a 'new way' of displaying a hierarchy (which elements
can be associated with a size) in a rectangular painting area.
<br>Each node of the hierarchy is drawn as a rectangle, with it's subnodes
drawn recursively into it - the area size of each rectangle is proportional
to the 'size' of the node, so large elements/node have large rectangles,
small elements small rectangles.
<p>QTreeMap is currently used by KDirStat, a disk-usage utility to display
file system hierarchies as Treemaps - you can display your whole /usr/X11R6
tree in a 800x600 area, and all dirs and files are visible, so you can
easily detect at one glance which directories/files use up disk space.
<br>QTreeMap will also be used with KProf to display profiling data as
Treemaps.
<br>&nbsp;
<p>QTreeMap is written by Alexander Rawass &lt;<a href="mailto:alexannika@users.sourceforge.net">alexannika@users.sourceforge.net</a>>
<br><a href="http://kdirstat.sourceforge.net/kdirstat">KDirStat</a> is
written by Stefan Hundhammer &lt;<a href="mailto:sh@suse.de">sh@suse.de</a>>
<p>&nbsp; the ideas behind the algorithms for squarified Treemaps
<br>&nbsp; have been taken/inspired from the Document <a href="http://www.win.tue.nl/~vanwijk/stm.pdf">stm.pdf</a>,
<br>&nbsp; "Squarified Treemaps" by Mark Bruls, Kees Huizing and Jarke
J. van Wijk
<br>&nbsp; from the SequoiaView Homepage&nbsp; <a href="http://www.win.tue.nl/sequoiaview">http://www.win.tue.nl/sequoiaview/</a>
<br>&nbsp; Email: {keesh,vanwijk,sequoia}@win.tue.nl
<p>&nbsp; the ideas behind the Cushion Treemaps
<br>&nbsp; have been taken/inspired from the Document <a href="http://www.win.tue.nl/~vanwijk/ctm.pdf">ctm.pdf</a>,
<br>&nbsp; "Cushion Treemaps" by Jarke J. van Wijk and Huub van de Wetering
<br>&nbsp; from the SequoiaView Homepage&nbsp; <a href="http://www.win.tue.nl/sequoiaview/">http://www.win.tue.nl/sequoiaview/</a>
<br>&nbsp; Email: {vanwijk,wstahw,sequoia}@win.tue.nl
<p>QTreeMap is currently in heavy development, expect newer versions any
time
<br>&nbsp;
<h4>
Example screenshots:</h4>
<a href="screenshots/flat_usr_x11r6.png"><img SRC="screenshots/flat_usr_x11r6_small.png" NOSAVE height=180 width=214></a><a href="screenshots/dist_cushion_mono_usr_x11r6.png"><img SRC="screenshots/dist_cushion_mono_usr_x11r6_small.png" NOSAVE height=180 width=214></a><a href="screenshots/sqr_bump_usr_x11r6.png"><img SRC="screenshots/sqr_bump_usr_x11r6_small.png" NOSAVE height=180 width=214></a>
<p>The left picture shows my /usr/X11R6 tree drawn with shading 'Flat'
in cyclic mode
<br>The middle picture shows /usr/X11R6 with 'Hierarch. Dist Cushion' shading
in monochrome mode,
<br>&nbsp;&nbsp;&nbsp; the blueish rectangles match the regexp "\.so"
<br>The right picture shows /usr/X11R6 drawn with squarified Treemaps in
'Fast Bump' shading.
<br>&nbsp;
<br>&nbsp;
<h4>
Usage:</h4>

<ul>
<li>
move the mouse and a tooltip will show you file name and size</li>

<li>
doubleclick on a rectangle and you're stepping (one directory) down into
the direction of that file</li>

<li>
click right mouse button and a popmenu will open, displaying the file name
and size of each subpath</li>

<br>calling konqueror or xterm is broken, no delete yet
<li>
enter a regexp in the text entry field (in the toolbar), and all files
which match that regexp will be drawn highlighted</li>

<br>enter another regexp to highlight more
<br>enter an empty string (and hit return) and the selection will be cleared
<li>
you can select/deselect files by clicking on them</li>

<br>those selected files will appear in the popupmenu under 'selection'
when you press the right mouse button</ul>

<h4>
Description of Shadings and Options:</h4>
undocumented Shadings/Options are experimental/for debugging purposes and
should be left alone, exept when you want to play around...
<ul>
<li>
Shadings (best used with cyclic <a href="#colorscheme">ColorScheme</a>)
:</li>

<ul>
<li>
Flat</li>

<br>draws flat rectangles
<li>
Image</li>

<br>like Flat, except: when the corresponding file is an image (like a
jpeg or png), the image is loaded and displayed in the rectangle
<br>this is only sensible with <a href="#squarifyTreemaps">squarified Treemaps</a>
<li>
Sinus</li>

<br>draws a bump/parabola with a sin-Function
<li>
Sinus 2</li>

<br>modified Version of Sinus
<li>
fast Bumb</li>

<br>draws a faster bump/parabola with a x^2-Function
<li>
Cone</li>

<br>draws with help of a linear Function
<li>
Outline</li>

<br>just draws the outline of the rectangle</ul>

<li>
<a NAME="hierarch_shadings"></a>Hierarchical Shadings (best used with monochrome
<a href="#colorscheme">ColorScheme</a>)</li>

<ul>
<li>
test CTM Cushion</li>

<br>does not work yet
<li>
hierarch. Sinus Cushion</li>

<br>draws a Cushion, where the center of the bump is moved in the direction
of hierarchies
<br>a sin-Curve is used to make the bump
<li>
hierarch. Sinus Cushion 2</li>

<br>modified version of hierarch. Sinus Cushion
<li>
hierarch. Dist. Cushion</li>

<br>draws a Cushion, where the center of the bump is moved in the direction
of hierarchies
<br>a distance-Function is used to draw the bump
<li>
hierarch. Dist. Cushion 2</li>

<br>modified version of hierarch. Dist. Cushion
<li>
hierarch. Cushion 5</li>

<br>just testing
<li>
hierarch. Debug Cushion</li>

<br>just for debugging
<li>
Wave2 Cushion</li>

<br>just testing</ul>

<li>
Draw Modes:</li>

<br>[to do]
<li>
Start Direction:</li>

<br>chooses the direction in which the root node is drawn
<li>
Don't draw if smaller:&nbsp; off, 0-10</li>

<ul>
<li>
off</li>

<br>draws every small file, even when it is too small to be seen
<li>
values 0-10</li>

<br>doesn't draw files which are less than 0-10 pixels wide
<br>drawing gets done a lot faster, but 'empty space' may appear where
lots of small files don't get drawn
<li>
sensible values are off, 1,2 or 3</li>
</ul>

<li>
Hierarch. Cushion Factor: -100% to 100%</li>

<ul>
<li>
when using <a href="#hierarch_shadings">hierarchical shading</a>, the center
of each bump is moved n % to the direction of the center of the parent
bump</li>

<li>
sensible values are 10 % to 40%, default is 30%</li>
</ul>

<li>
<a NAME="colorscheme"></a>Color Scheme:</li>

<ul>
<li>
cyclic (default)</li>

<br>uses a set of colors, the colors are cycled
<br>not good to display <a href="#hierarch_shadings">hierarchies</a>
<li>
regexp</li>

<br>not yet working
<li>
monochrome</li>

<br>switches to monochrome shading
<br>when using <a href="#hierarch_shadings">hierarchical cushion</a>, monochrome
is much better to see the hierarchies than cyclic, because you don't get
confused by all those different colors</ul>

<li>
Draw Text</li>

<br>draws Text into each rectangle
<li>
<a NAME="squarifyTreemaps"></a>squarify Treemaps</li>

<br>the treemaps are drawn with a different algorithm, which tries to lay
out the rectangles so that they don't get thin and flat - the result is
rectangles which have a better aspect
<br>can be quite confusing, the hierarchy is not as good visible as without</ul>

<h4>
ToDo:</h4>
&nbsp;
<h4>
Bugs:</h4>

<ul>
<li>
Cushions a la SequoiaView are not yet working</li>

<li>
current dirname display not working</li>

<li>
no checkmarks in option menues</li>

<li>
hierarch. Factor >=50% is nonsense</li>

<li>
clicking too often on 'ZoomIn' consumes too much memory -> X swaps till
death</li>

<li>
warnings about RGB parameters</li>
</ul>

<h4>
Planned:</h4>

<ul>
<li>
moving (drag'n'drop) of files into other directories</li>

<li>
re-writing QTreeMap to be a general abstract Qt/KDE widget for visualization
of general hierarchies</li>

<br>KDirTreeMap will then be an implementation for this abstract QTreeMap
that displays disk usage
<li>
writing a FileRequester based on Treemaps</li>

<li>
'selling' QTreeMap to Konqueror or KDE in general</li>

<li>
re-writing QTreeMap to GtkTreeMap for use with Gtk/Gnome</li>

<li>
subclassing/extending QListView to have an TreeMap view in _every_ Application
that uses a QListView to display hierarchies of any sort (file systems,
menu items, bookmark folders)</li>
</ul>

<h4>
Ideas for the usage of Treemaps:</h4>

<ul>
<li>
Disk Usage Display</li>

<li>
File System Navigation (as a FileRequester or 'graphical' CD)</li>

<li>
Navigation help in large Bookmark folders</li>

<li>
Navigation help in large Source Code projects, i.e. in kdevelop</li>

<li>
Profiling Information Display (for use with gprof output)</li>

<li>
Content/Information Management</li>

<li>
Web Traffic Analyzer</li>

<li>
Display of the structure of an organization</li>

<li>
Image Browser</li>
</ul>

<h4>
Other similar Projects:</h4>

<ul>
<li>
<a href="http://www.win.tue.nl/sequoiaview/">SequoiaView</a> (from which
I got inspired), sadly, it is not Open Source</li>

<br>*thank you very much* for the inspiration they gave me by writing SequoiaView,
<br>when I first saw SequoiaView, I immediately knew that this was the
Tool I was missing so long,
<br>and that the idea behind Treemap is a genius, while the algorithm is
utterly trivial
<br>I am *fascinated* how great this Treemap idea is and how simple the
implementation is ;-)))
<li>
<a href="http://www.cs.umd.edu/hcil/photomesa/">Photomesa</a>, an Image-Browser
in Java using Treemaps</li>

<li>
Documents/Thoughts on Treemaps by <a href="http://www.cs.umd.edu/hcil/treemaps/">Ben
Shneiderman</a></li>

<br>He seems to be the inventor of Treemaps, I declare him a genius!
<br>*thank you* for this great visualization idea
<li>
<a href="http://sourceforge.net/projects/treemap/">TreeMap java libraries</a></li>

<li>
<a href="http://sourceforge.net/projects/jtreemap/">JTreeMap</a>&nbsp;&nbsp;
java treemap component</li>
</ul>

<hr WIDTH="100%">
<p>Alexander Rawass &lt;<a href="mailto:alexannika@users.sourceforge.net">alexannika@users.sourceforge.net</a>>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Last modification Date: 10 August 2001
<br>&nbsp;
<br>&nbsp;
</body>
</html>
